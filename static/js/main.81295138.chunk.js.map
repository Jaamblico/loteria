{"version":3,"sources":["Components/Spinner/Spinner.styled.js","Components/Spinner/index.js","constants/index.js","utils/index.js","services/lottery.js","Hooks/useWalletConnect.js","Context/ContractContext.js","Hooks/useLotteryContract.js","Context/WalletContext.js","Components/Button/Button.styled.js","Components/Button/Button.js","Components/Container/Container.styled.js","Components/Container/Container.js","Widgets/BuyButton/BuyButton.js","Widgets/ConnectButton/ConnectButton.js","Widgets/InfoContainer/InfoContainer.styled.js","Components/Estado/Estado.styled.js","Components/Estado/Estado.js","Components/Fat/Fat.styled.js","Components/Icons/Ether.js","Components/Fat/Fat.js","Components/CantidadJugadores/CantidadJugadores.styled.js","Components/CantidadJugadores/CantidadJugadores.js","Components/JugadoresRequeridos/JugadoresRequeridos.styled.js","Components/JugadoresRequeridos/JugadoresRequeridos.js","Widgets/Jugadores/Jugadores.styled.js","Widgets/Jugadores/Jugadores.js","Widgets/InfoContainer/InfoContainer.js","Widgets/Title/Title.styled.js","Widgets/Title/Title.js","Widgets/Quote/Quote.styled.js","Widgets/Quote/Quote.js","Components/Price/Price.styled.js","Components/Icons/AnimatedEther.js","Components/Price/Price.js","Widgets/Footer/Footer.styled.js","Widgets/Footer/Footer.js","assets/images/goblet.png","Widgets/Goblet/Goblet.js","Widgets/index.js","Hooks/useLotteryEvents.js","reportWebVitals.js","index.js"],"names":["Spinner","styled","svg","SpinnerContainer","div","width","height","className","cx","cy","r","fill","strokeWidth","LOTTERY_INITIAL_STATE","isLoading","prize","price","status","numOfPlayers","players","playersRequired","lastWinner","address","isReloading","balance","isProcessingTx","WALLET_INITIAL_STATE","provider","library","account","signature","error","network","message","signedMessage","verified","ethers","utils","formatEther","CONTRACT_ADDRESS","parseEther","formatUnits","etherSymbol","parseUnits","commify","CHAIN_NAME","defaultProvider","getDefaultProvider","lotteryContract","Contract","abi","getBalance","formattedBalance","Number","console","getLotteryData","getPrize","getTicketPrice","getLotteryStatus","getNumberOfPlayers","getPlayers","getPlayersRequired","getWinner","addressContract","providerOptions","walletlink","package","CoinbaseWalletSDK","options","appName","infuraId","walletconnect","WalletConnect","web3Modal","Web3Modal","cacheProvider","theme","useWalletconnect","React","wallet","setWallet","connect","providers","Web3Provider","listAccounts","accounts","getNetwork","s","disconnect","clearCachedProvider","cachedProvider","on","handleAccountsChanged","log","handleChainChanged","_hexChainId","handleDisconnect","removeListener","ContractContext","ContractProvider","children","useState","data","setData","getStaticInfo","lotteryData","state","refreshContractData","setIsProcessingTx","buyTicket","chainId","signer","getSigner","lotteryContractSigned","value","gasLimit","buyTicketTxn","hash","wait","useEffect","setIsReloading","useContract","Provider","useContractData","context","undefined","Error","WalletContext","WalletProvider","useWalletContext","ButtonContainer","Button","button","id","name","handleClick","onClick","Container","BuyButton","ConnectButton","InfoContainer","Estado","h4","estado","Fat","Ether","props","xmlns","xmlSpace","shapeRendering","textRendering","imageRendering","fillRule","clipRule","viewBox","d","fat","CantidadJugadores","jugadores","JugadoresRequeridos","jugadoresRequeridos","JugadoresContenedor","Jugadores","length","map","add","idx","toString","Title","h1","title","Quote","PriceContainer","Price","h2","AnimatedEther","Anime","ReactAnime","initial","targets","rotate","duration","loop","elasticity","easing","delay","Link","a","Footer","href","target","Goblet","src","goblet","alt","GlobalStyle","createGlobalStyle","MainWindow","section","Root","handleEvent","useCallback","event","e","off","useLotteryEvents","Main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.81295138.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Spinner = styled.svg`\n  animation: rotate 1s linear infinite;\n\n  & .path {\n    stroke: #5652bf;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n`\n\nexport const SpinnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Spinner.styled'\n\nexport const Spinner = () => (\n  <Styled.SpinnerContainer>\n    <Styled.Spinner width={50} height={50}>\n      <circle\n        className=\"path\"\n        cx=\"25\"\n        cy=\"25\"\n        r=\"20\"\n        fill=\"none\"\n        strokeWidth=\"2\"\n      />\n    </Styled.Spinner>\n  </Styled.SpinnerContainer>\n)\n","export const LOTTERY_INITIAL_STATE = {\n  isLoading: true,\n  prize: 0,\n  price: 0,\n  status: 0,\n  numOfPlayers: 0,\n  players: [],\n  playersRequired: 0,\n  lastWinner: '',\n  address: '',\n  isReloading: false,\n  balance: 0,\n  isProcessingTx: false,\n}\n\nexport const WALLET_INITIAL_STATE = {\n  provider: null,\n  library: null,\n  account: null,\n  signature: '',\n  error: '',\n  network: null,\n  message: '',\n  signedMessage: '',\n  verified: null,\n}\n","import { ethers } from 'ethers'\n\nexport const {\n  formatEther,\n  parseEther,\n  formatUnits,\n  etherSymbol,\n  parseUnits,\n  commify,\n} = ethers.utils\n","import { ethers } from 'ethers'\n\nimport { formatEther } from '../utils'\nimport { LOTTERY_INITIAL_STATE } from '../constants'\n\nimport abi from '../utils/Lottery.json'\n\nexport const CONTRACT_ADDRESS = '0x01434E6A301e70a7C84679272F0959b09850651f'\n\nexport const CHAIN_NAME = 'goerli'\nexport const CHAIN_ID = 5\n\nconst defaultProvider = ethers.getDefaultProvider(CHAIN_NAME)\n\nexport const lotteryContract = new ethers.Contract(\n  CONTRACT_ADDRESS,\n  abi.abi,\n  defaultProvider,\n)\n\nexport const getContractAddress = () => lotteryContract.address\n\nexport const getBalance = async () => {\n  try {\n    const balance = await defaultProvider.getBalance(CONTRACT_ADDRESS)\n\n    const formattedBalance = formatEther(balance)\n\n    return Number(formattedBalance)\n  } catch (e) {\n    console.error(e)\n  }\n}\n\nexport const getLotteryData = async () => {\n  try {\n    const prize = await lotteryContract.getPrize()\n\n    const price = await lotteryContract.getTicketPrice()\n\n    const status = await lotteryContract.getLotteryStatus()\n\n    const numOfPlayers = Number(await lotteryContract.getNumberOfPlayers())\n\n    const players = await lotteryContract.getPlayers()\n\n    const playersRequired = Number(await lotteryContract.getPlayersRequired())\n\n    const lastWinner = await lotteryContract.getWinner()\n\n    const addressContract = await lotteryContract.address\n\n    return {\n      prize,\n      price,\n      status,\n      numOfPlayers,\n      players,\n      playersRequired,\n      lastWinner,\n      addressContract,\n    }\n  } catch (e) {\n    console.error(e)\n    return LOTTERY_INITIAL_STATE\n  }\n}\n","import * as React from 'react'\nimport Web3Modal from 'web3modal'\nimport WalletConnect from '@walletconnect/web3-provider'\nimport { providers } from 'ethers'\nimport CoinbaseWalletSDK from '@coinbase/wallet-sdk'\nimport { WALLET_INITIAL_STATE } from '../constants'\nimport { CHAIN_NAME } from '../services/lottery'\n\nconst providerOptions = {\n  walletlink: {\n    package: CoinbaseWalletSDK, // Required\n    options: {\n      appName: 'Loteria de Babilonia', // Required\n      infuraId: '855d00a8b6bb42e4a2b9ca9df69d0516', // Required unless you provide a JSON RPC url; see `rpc` below\n    },\n  },\n  walletconnect: {\n    package: WalletConnect, // required\n    options: {\n      infuraId: '855d00a8b6bb42e4a2b9ca9df69d0516', // required\n    },\n  },\n}\n\nconst web3Modal = new Web3Modal({\n  providerOptions,\n  cacheProvider: true, // very important\n  network: CHAIN_NAME,\n  theme: 'dark',\n})\n\nexport const useWalletconnect = () => {\n  const [wallet, setWallet] = React.useState(WALLET_INITIAL_STATE)\n\n  const { provider, error } = wallet\n\n  const connect = async () => {\n    try {\n      const provider = await web3Modal.connect()\n      const library = new providers.Web3Provider(provider)\n      const accounts = await library.listAccounts()\n      const network = await library.getNetwork()\n\n      setWallet(s => ({ ...s, provider, library, network }))\n\n      if (accounts) {\n        setWallet(s => ({ ...s, account: accounts[0] }))\n      }\n    } catch (error) {\n      setWallet(s => ({ ...s, error }))\n    }\n  }\n\n  const refreshState = () => {\n    setWallet(WALLET_INITIAL_STATE)\n  }\n\n  const disconnect = async () => {\n    await web3Modal.clearCachedProvider()\n    refreshState()\n  }\n\n  React.useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      connect()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  React.useEffect(() => {\n    if (provider?.on) {\n      const handleAccountsChanged = accounts => {\n        console.log('accountsChanged', accounts)\n        if (accounts) {\n          setWallet(s => ({ ...s, account: accounts[0] }))\n        }\n      }\n\n      // TODO: Since chainId is not part of state check how to update network object instead\n      const handleChainChanged = _hexChainId => {\n        console.log('chainChanged', _hexChainId)\n        // setWallet(s => ({ ...s, _hexChainId }))\n      }\n\n      const handleDisconnect = () => {\n        console.log('disconnect', error)\n        disconnect()\n      }\n\n      provider.on('accountsChanged', handleAccountsChanged)\n      provider.on('chainChanged', handleChainChanged)\n      provider.on('disconnect', handleDisconnect)\n\n      return () => {\n        if (provider.removeListener) {\n          provider.removeListener('accountsChanged', handleAccountsChanged)\n          provider.removeListener('chainChanged', handleChainChanged)\n          provider.removeListener('disconnect', handleDisconnect)\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [provider])\n\n  return { wallet, setWallet, connect, disconnect }\n}\n","import * as React from 'react'\nimport { Spinner } from 'Components/Spinner'\nimport { useContract } from 'Hooks/useLotteryContract'\n\nconst ContractContext = React.createContext({})\n\nfunction ContractProvider({ children }) {\n  const {\n    data,\n    buyTicket,\n    refreshContractData,\n    setIsReloading,\n    setIsProcessingTx,\n  } = useContract()\n\n  const { isLoading } = data\n\n  if (isLoading) return <Spinner />\n\n  return (\n    <ContractContext.Provider\n      value={{\n        ...data,\n        buyTicket,\n        refreshContractData,\n        setIsReloading,\n        setIsProcessingTx,\n      }}\n    >\n      {children}\n    </ContractContext.Provider>\n  )\n}\n\nfunction useContractData() {\n  const context = React.useContext(ContractContext)\n\n  if (context === undefined) {\n    throw new Error('useContractData must be used within a ContractProvider')\n  }\n\n  return context\n}\n\nexport { ContractProvider, useContractData }\n","import React from 'react'\nimport { ethers } from 'ethers'\nimport { LOTTERY_INITIAL_STATE } from '../constants'\nimport abi from '../utils/Lottery.json'\nimport {\n  CHAIN_ID,\n  CHAIN_NAME,\n  CONTRACT_ADDRESS,\n  getBalance,\n  getLotteryData,\n} from 'services/lottery'\nimport { useWalletconnect } from './useWalletConnect'\n\nexport const useContract = () => {\n  const [data, setData] = React.useState(LOTTERY_INITIAL_STATE)\n\n  const { wallet } = useWalletconnect()\n\n  const { library, network, setWallet } = wallet\n\n  const getStaticInfo = async () => {\n    const balance = await getBalance() // Promise.race[]\n    const lotteryData = await getLotteryData() // Promise.race[]\n\n    setData(state => ({\n      ...state,\n      ...lotteryData,\n      balance,\n      isLoading: false,\n    }))\n  }\n\n  const refreshContractData = async () => {\n    await getStaticInfo()\n  }\n\n  const setIsReloading = () =>\n    setData(state => ({\n      ...state,\n      isReloading: !state.isReloading,\n    }))\n\n  const setIsProcessingTx = () =>\n    setData(state => ({\n      ...state,\n      isProcessingTx: !state.isProcessingTx,\n    }))\n\n  const buyTicket = async () => {\n    if (network.chainId !== CHAIN_ID) {\n      setWallet(s => ({\n        ...s,\n        error: {\n          message: `Incorrect chain selected. Please change network to: ${CHAIN_NAME}`,\n        },\n      }))\n      return\n    }\n\n    if (!library) {\n      return\n    }\n\n    try {\n      const signer = library.getSigner()\n\n      const lotteryContractSigned = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        abi.abi,\n        signer,\n      )\n\n      const price = await lotteryContractSigned.getTicketPrice()\n\n      // TODO: Add whitelist support\n      if (!price) {\n        return\n      }\n\n      const buyTicketTxn = await lotteryContractSigned.buyTicket({\n        value: price,\n        gasLimit: 300000,\n      })\n\n      console.log('Mining...', buyTicketTxn.hash)\n      setIsProcessingTx()\n\n      await buyTicketTxn.wait()\n\n      console.log('Mined -- ', buyTicketTxn.hash)\n      setIsProcessingTx()\n    } catch (e) {\n      if (data.isProcessingTx) {\n        setIsProcessingTx()\n      }\n      console.error(e)\n    }\n  }\n\n  React.useEffect(() => {\n    getStaticInfo()\n  }, [])\n\n  return {\n    data,\n    buyTicket,\n    refreshContractData,\n    setIsReloading,\n    setIsProcessingTx,\n  }\n}\n","import * as React from 'react'\nimport { useWalletconnect } from 'Hooks/useWalletConnect'\n\nconst WalletContext = React.createContext()\n\nfunction WalletProvider({ children }) {\n  const { wallet, setWallet, connect, disconnect } = useWalletconnect()\n\n  return (\n    <WalletContext.Provider value={{ wallet, setWallet, connect, disconnect }}>\n      {children}\n    </WalletContext.Provider>\n  )\n}\n\nfunction useWalletContext() {\n  const context = React.useContext(WalletContext)\n\n  if (context === undefined) {\n    throw new Error('useWalletContext must be used within a WalletProvider')\n  }\n\n  return context\n}\n\nexport { useWalletContext, WalletProvider }\n","import styled from 'styled-components'\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n`\n\nexport const Button = styled.button`\n  background: #e5b80b;\n  color: white;\n  padding: 0.5em;\n  font-size: 1em;\n  border: 1px solid white;\n  border-radius: 16px;\n  width: 75vw;\n`\n","import * as React from 'react'\nimport * as Styled from './Button.styled'\n\nexport function Button({ id, name, handleClick }) {\n  return (\n    <Styled.ButtonContainer id={id}>\n      <Styled.Button onClick={handleClick}>{name}</Styled.Button>\n    </Styled.ButtonContainer>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Container.styled'\n\nexport function Container({ children }) {\n  return <Styled.Container>{children}</Styled.Container>\n}\n","import * as React from 'react'\nimport { useContractData } from 'Context/ContractContext'\nimport { Button } from 'Components/Button'\nimport { Container } from 'Components/Container'\nimport { useWalletContext } from 'Context/WalletContext'\nimport { CHAIN_ID, CHAIN_NAME } from 'services/lottery'\n\nexport const BuyButton = () => {\n  const { buyTicket, isProcessingTx } = useContractData()\n  const { wallet } = useWalletContext()\n  const { network } = wallet\n\n  if (network.chainId !== CHAIN_ID) {\n    console.log('ChainId selected', network.chainId)\n    return <>Por favor, cambia tu red a ${CHAIN_NAME} para poder continuar.</>\n  }\n\n  return (\n    <Container>\n      <>\n        {isProcessingTx ? (\n          'Comprando ticket...'\n        ) : (\n          <Button\n            id=\"button-container\"\n            name=\"Comprar Ticket\"\n            handleClick={buyTicket}\n          />\n        )}\n      </>\n    </Container>\n  )\n}\n","import * as React from 'react'\n\nimport { Button } from 'Components/Button'\nimport { Container } from 'Components/Container'\nimport { useWalletContext } from 'Context/WalletContext'\n\nexport const ConnectButton = () => {\n  const { connect, wallet } = useWalletContext()\n  const { network } = wallet\n\n  console.log('Red seleccionada: ', network.chainId)\n\n  return (\n    <Container>\n      <Button\n        id=\"connect-wallet-button-container\"\n        name=\"Conectar Billetera\"\n        handleClick={connect}\n      />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const InfoContainer = styled.div`\n  height: 25vh;\n  display: flex;\n  flex-wrap: wrap;\n  color: white;\n  background-color: #131313;\n  border-radius: 16px;\n`\n","import styled from 'styled-components'\n\nexport const Estado = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Estado.styled'\nimport { Container } from '../Container'\n\nexport function Estado({ estado }) {\n  return (\n    <Container>\n      <Styled.Estado>Estado: {estado}</Styled.Estado>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Fat = styled.h4`\n  text-align: center;\n  margin-right: 0.25em;\n`\n","import * as React from 'react'\n\nexport const Ether = props => {\n  const { width = '100%', height = '100%' } = props\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlSpace=\"preserve\"\n      shapeRendering=\"geometricPrecision\"\n      textRendering=\"geometricPrecision\"\n      imageRendering=\"optimizeQuality\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      viewBox=\"0 0 784.37 1277.39\"\n      width={width}\n      height={height}\n      {...props}\n    >\n      <g fillRule=\"nonzero\">\n        <path\n          fill=\"#343434\"\n          d=\"m392.07 0-8.57 29.11v844.63l8.57 8.55 392.06-231.75z\"\n        />\n        <path fill=\"#8C8C8C\" d=\"M392.07 0 0 650.54l392.07 231.75V472.33z\" />\n        <path\n          fill=\"#3C3C3B\"\n          d=\"m392.07 956.52-4.83 5.89v300.87l4.83 14.1 392.3-552.49z\"\n        />\n        <path fill=\"#8C8C8C\" d=\"M392.07 1277.38V956.52L0 724.89z\" />\n        <path fill=\"#141414\" d=\"m392.07 882.29 392.06-231.75-392.06-178.21z\" />\n        <path fill=\"#393939\" d=\"m0 650.54 392.07 231.75V472.33z\" />\n      </g>\n    </svg>\n  )\n}\n\nexport default Ether\n","import * as React from 'react'\nimport * as Styled from './Fat.styled'\nimport { Container } from '../Container'\nimport { Ether } from '../Icons/Ether'\n\nexport function Fat({ fat }) {\n  return (\n    <Container>\n      <Styled.Fat>Pozo: {fat}</Styled.Fat>\n      <Ether width=\"8\" />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const CantidadJugadores = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './CantidadJugadores.styled'\nimport { Container } from '../Container'\n\nexport function CantidadJugadores({ jugadores }) {\n  return (\n    <Container>\n      <Styled.CantidadJugadores>\n        Cantidad Jugadores: {jugadores}\n      </Styled.CantidadJugadores>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const JugadoresRequeridos = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\nimport * as Styled from './JugadoresRequeridos.styled'\nimport { Container } from '../Container'\n\nexport function JugadoresRequeridos({ jugadoresRequeridos }) {\n  return (\n    <Container>\n      <Styled.JugadoresRequeridos>\n        Jugadores Requeridos: {jugadoresRequeridos}\n      </Styled.JugadoresRequeridos>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const JugadoresContenedor = styled.div`\n  width: 66vw;\n  white-space: nowrap;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nexport const Jugadores = styled.h4`\n  display: inline-block;\n  &:not(:first-child) {\n    margin-left: 1em;\n  }\n`\n","import * as React from 'react'\nimport * as Styled from './Jugadores.styled'\nimport { useContractData } from 'Context/ContractContext'\nimport { Container } from 'Components/Container'\n\nexport const Jugadores = () => {\n  const { players } = useContractData()\n\n  if (players.length === 0) return null\n\n  return (\n    <Container>\n      <Styled.JugadoresContenedor>\n        {players?.map((add, idx) => (\n          <Styled.Jugadores key={`${add.toString()}-${idx}`}>\n            {add}\n          </Styled.Jugadores>\n        ))}\n      </Styled.JugadoresContenedor>\n    </Container>\n  )\n}\n","import * as React from 'react'\nimport * as Styled from './InfoContainer.styled'\nimport { formatEther } from 'utils'\nimport { Container } from 'Components/Container'\nimport { Estado } from 'Components/Estado'\nimport { Fat } from 'Components/Fat'\nimport { CantidadJugadores } from 'Components/CantidadJugadores'\nimport { JugadoresRequeridos } from 'Components/JugadoresRequeridos'\nimport { useContractData } from 'Context/ContractContext'\nimport { Jugadores } from 'Widgets/Jugadores'\n\nexport function InfoContainer() {\n  const { prize, status, numOfPlayers, playersRequired } = useContractData()\n\n  return (\n    <Container>\n      <Styled.InfoContainer>\n        <Fat fat={formatEther(prize)} />\n        <Estado estado={status ? 'Cerrado' : 'Abierto'} />\n        <CantidadJugadores jugadores={numOfPlayers} />\n        <Jugadores />\n        <JugadoresRequeridos jugadoresRequeridos={playersRequired} />\n      </Styled.InfoContainer>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Title = styled.h1`\n  font-size: 3.5em;\n  text-align: center;\n`\n","import * as React from 'react'\nimport * as Styled from './Title.styled'\nimport { Container } from 'Components/Container'\n\nexport function Title({ title }) {\n  return (\n    <Container>\n      <Styled.Title>{title}</Styled.Title>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Quote = styled.h4`\n  text-align: center;\n  font-style: italic;\n  border: 1px solid black;\n  border-radius: 16px;\n  padding: 0.5em;\n`\n","//1) Soy de un país\n// vertiginoso donde la lotería es parte principal de la realidad: hasta el día de hoy, he\n// pensado tan poco en ella como en la conducta de los dioses indescifrables o de mi\n// corazón.\n\n// 2) Una jugada\n// feliz podía motivar su elevación al concilio de magos o la prisión de un enemigo\n// (notorio o íntimo) o el encontrar, en la pacífica tiniebla del cuarto, la mujer que\n// empieza a inquietarnos o que no esperábamos rever; una jugada adversa: la\n// mutilación, la variada infamia, la muerte.\n\n// 3) En la realidad el número de sorteos es infinito. Ninguna\n// decisión es final, todas se ramifican en otras. Los ignorantes suponen que infinitos\n// sorteos requieren un tiempo infinito; en realidad basta que el tiempo sea\n// infinitamente subdivisible, como lo enseña la famosa parábola del Certamen con la\n// Tortuga. Esa infinitud condice de admirable manera con los sinuosos números del\n// Azar y con el Arquetipo Celestial de la Lotería, que adoran los platónicos...\n\nimport * as React from 'react'\nimport * as Styled from './Quote.styled'\nimport { Container } from 'Components/Container'\n\nexport function Quote() {\n  return (\n    <Container>\n      <Styled.Quote>\n        {`'En la realidad el número de sorteos es infinito. Ninguna decisión es\n        final, todas se ramifican en otras.' J.L.B.\"`}\n      </Styled.Quote>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const PriceContainer = styled.div`\n  display: flex;\n`\n\nexport const Price = styled.h2`\n  font-size: 30px;\n  text-align: center;\n  margin-right: 0.25em;\n`\n","import * as React from 'react'\nimport ReactAnime from 'react-animejs'\nimport Ether from './Ether'\n\nexport function AnimatedEther({ width }) {\n  const { Anime } = ReactAnime\n\n  const targets = '#animated-ether-svg'\n\n  return (\n    <Anime\n      initial={[\n        {\n          targets,\n          rotate: 360,\n          duration: 3200,\n          loop: true,\n          elasticity: 600,\n          easing: 'easeOutElastic',\n          delay: 80,\n        },\n      ]}\n    >\n      <Ether width={width} id=\"animated-ether-svg\" />\n    </Anime>\n  )\n}\n","import * as React from 'react'\nimport { formatEther } from 'utils'\nimport * as Styled from './Price.styled'\nimport { useContractData } from 'Context/ContractContext'\nimport { Container } from 'Components/Container'\nimport { AnimatedEther } from 'Components/Icons/AnimatedEther'\n\nexport function Price() {\n  const { price } = useContractData()\n\n  return (\n    <Container>\n      <Styled.PriceContainer>\n        <Styled.Price>{formatEther(price) + ' + Gas'}</Styled.Price>\n      </Styled.PriceContainer>\n      <AnimatedEther width=\"20\" />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Link = styled.a`\n  text-decoration: none;\n  color: #131313;\n  font-size: 0.75em;\n`\n","import * as React from 'react'\nimport * as Styled from './Footer.styled.js'\nimport { Container } from 'Components/Container'\nimport { useContractData } from 'Context/ContractContext.js'\nimport { CHAIN_NAME } from 'services/lottery.js'\n\nexport const Footer = () => {\n  const { addressContract } = useContractData()\n\n  return (\n    <Container>\n      <Styled.Link\n        href={`https://${CHAIN_NAME}.etherscan.io/address/${addressContract}#code`}\n        target=\"blank\"\n      >\n        Ver Contrato\n      </Styled.Link>\n    </Container>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/goblet.4053d09b.png\";","import * as React from 'react'\n\nimport { Container } from 'Components/Container'\nimport goblet from 'assets/images/goblet.png'\n\nexport const Goblet = () => {\n  return (\n    <Container>\n      <img src={goblet} alt=\"goblet\" height=\"100px\" />\n    </Container>\n  )\n}\n","import * as React from 'react'\n\n// Styles\nimport styled from 'styled-components'\nimport { createGlobalStyle } from 'styled-components'\n\n// Context\nimport { ContractProvider } from '../Context/ContractContext'\nimport { useWalletContext, WalletProvider } from '../Context/WalletContext'\n\n// Utils\nimport { lotteryContract } from '../services/lottery'\nimport { useLotteryEvents } from '../Hooks/useLotteryEvents'\n\n// Widgets\nimport { BuyButton } from './BuyButton'\nimport { ConnectButton } from './ConnectButton'\nimport { InfoContainer } from './InfoContainer'\nimport { Title } from './Title'\nimport { Quote } from './Quote'\nimport { Price } from '../Components/Price'\nimport { Footer } from './Footer'\nimport { Goblet } from './Goblet'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto Mono', monospace;\n  }\n`\n\nconst MainWindow = styled.section`\n  height: 100vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 0 3em;\n`\n\nfunction Root() {\n  const { wallet } = useWalletContext()\n\n  const { account } = wallet\n\n  useLotteryEvents(lotteryContract)\n\n  return (\n    <>\n      <Goblet />\n      <Title title=\"Lotería de Babilonia\" />\n      <Quote />\n      <Price />\n      {account ? <BuyButton /> : <ConnectButton />}\n      <InfoContainer />\n      <Footer />\n    </>\n  )\n}\n\n// TODO: Create HOC for WalletProvider and ContractProvider maybe?\nfunction Main() {\n  return (\n    <>\n      <GlobalStyle />\n      <WalletProvider>\n        <ContractProvider>\n          <MainWindow>\n            <Root />\n          </MainWindow>\n        </ContractProvider>\n      </WalletProvider>\n    </>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\n// Hooks\nimport { useContractData } from 'Context/ContractContext'\n\nexport function useLotteryEvents(lotteryContract) {\n  const { refreshContractData, setIsReloading } = useContractData()\n\n  const handleEvent = React.useCallback(\n    async event => {\n      console.log('REFRESHING')\n      setIsReloading()\n\n      await refreshContractData()\n\n      console.log('FINISH REFRESHING')\n      setIsReloading()\n    },\n    // TODO: Fix this to only execute once per event\n    [refreshContractData, setIsReloading],\n  )\n\n  React.useEffect(() => {\n    if (lotteryContract) {\n      lotteryContract.on('EnterLottery', e => handleEvent(e))\n    }\n\n    return () => lotteryContract.off('EnterLottery')\n  }, [handleEvent, lotteryContract])\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport Main from './Widgets'\nimport reportWebVitals from './reportWebVitals'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\nroot.render(<Main />)\n\n// TODO: Agregar errorBoundary\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}