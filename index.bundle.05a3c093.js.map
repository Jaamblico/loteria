{"version":3,"sources":["webpack:///./src/services/lottery.js","webpack:///./src/components/Button/Button.styled.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/Container/Container.styled.js","webpack:///./src/components/Container/Container.js","webpack:///./src/widgets/BuyButton/BuyButton.js","webpack:///./src/widgets/ConnectButton/ConnectButton.js","webpack:///./src/widgets/InfoContainer/InfoContainer.styled.js","webpack:///./src/utils/index.js","webpack:///./src/components/Estado/Estado.styled.js","webpack:///./src/components/Estado/Estado.js","webpack:///./src/components/Fat/Fat.styled.js","webpack:///./src/components/Icons/Ether.js","webpack:///./src/components/Fat/Fat.js","webpack:///./src/components/CantidadJugadores/CantidadJugadores.styled.js","webpack:///./src/components/CantidadJugadores/CantidadJugadores.js","webpack:///./src/components/JugadoresRequeridos/JugadoresRequeridos.styled.js","webpack:///./src/components/JugadoresRequeridos/JugadoresRequeridos.js","webpack:///./src/widgets/Jugadores/Jugadores.styled.js","webpack:///./src/widgets/Jugadores/Jugadores.js","webpack:///./src/widgets/InfoContainer/InfoContainer.js","webpack:///./src/widgets/Title/Title.styled.js","webpack:///./src/widgets/Title/Title.js","webpack:///./src/widgets/Quote/Quote.styled.js","webpack:///./src/widgets/Quote/Quote.js","webpack:///./src/components/Price/Price.styled.js","webpack:///./src/components/Icons/AnimatedEther.js","webpack:///./src/components/Price/Price.js","webpack:///./src/widgets/Footer/Footer.styled.js","webpack:///./src/widgets/Footer/Footer.js","webpack:///./src/assets/images/goblet.png","webpack:///./src/widgets/Goblet/Goblet.js","webpack:///./src/widgets/Main/Main.js","webpack:///./src/hooks/useLotteryEvents.js","webpack:///./src/hooks/useLotteryStateGraphql.js","webpack:///./src/components/Spinner/Spinner.styled.js","webpack:///./src/components/Spinner/index.js","webpack:///./src/hooks/useLotteryContract.js","webpack:///./src/context/ContractContext.js","webpack:///./src/hooks/useWalletConnect.js","webpack:///./src/widgets/app.js","webpack:///./src/context/WalletContext.js","webpack:///./src/constants/index.js","webpack:///./src/index.js"],"names":["defaultProvider","ethers","getDefaultProvider","CHAIN_NAME","lotteryContract","Contract","CONTRACT_ADDRESS","abi","ButtonContainer","styled","div","Button","button","id","name","handleClick","disabled","onClick","Container","children","BuyButton","useContractData","buyTicket","isProcessingTx","network","useWalletContext","wallet","toastId","React","current","toast","loading","remove","chainId","CHAIN_ID","console","log","chain","ConnectButton","connect","InfoContainer","utils","formatEther","Estado","parseEther","formatUnits","etherSymbol","parseUnits","commify","h4","estado","Fat","Ether","props","width","height","xmlns","xmlSpace","shapeRendering","textRendering","imageRendering","fillRule","clipRule","viewBox","fill","d","fat","CantidadJugadores","jugadores","JugadoresRequeridos","jugadoresRequeridos","JugadoresContenedor","Jugadores","players","length","map","add","idx","key","toString","prize","status","numOfPlayers","playersRequired","Title","h1","title","Quote","PriceContainer","Price","h2","AnimatedEther","Anime","ReactAnime","initial","targets","rotate","duration","loop","elasticity","easing","delay","price","Link","a","Footer","href","target","Goblet","src","goblet","alt","MainContainer","section","Main","refreshContractData","handleEvent","account","useCallback","data","address","useEffect","on","off","position","client","createClient","url","useLotteryGraphql","useQuery","query","result","reexecuteQuery","fetching","error","lotteryStores","lotteryData","lastWinner","winner","Spinner","svg","SpinnerContainer","className","cx","cy","r","strokeWidth","useContract","useState","LOTTERY_INITIAL_STATE","setLotteryData","useWalletconnect","library","setWallet","setIsProcessingTx","state","s","message","signer","getSigner","lotteryContractSigned","getTicketPrice","value","gasLimit","buyTicketTxn","hash","wait","success","isLoading","requestPolicy","ContractContext","ContractProvider","Provider","context","undefined","Error","providerOptions","walletlink","package","CoinbaseWalletSDK","options","appName","infuraId","walletconnect","WalletConnect","web3Modal","Web3Modal","cacheProvider","theme","WALLET_INITIAL_STATE","provider","providers","Web3Provider","listAccounts","accounts","getNetwork","disconnect","clearCachedProvider","cachedProvider","handleAccountsChanged","handleChainChanged","_hexChainId","toNumber","handleDisconnect","removeListener","GlobalStyle","createGlobalStyle","App","BrowserClient","dsn","process","env","SENTRY_DSN","environment","integrations","BrowserTracing","tracesSampleRate","sampleRate","Hub","WalletContext","WalletProvider","signature","signedMessage","verified","ReactDOM","render","document","getElementById"],"mappings":"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","file":"index.bundle.05a3c093.js","sourcesContent":["import { ethers } from 'ethers'\nimport { CONTRACT_ADDRESS, CHAIN_NAME } from '@/constants'\nimport abi from '@/utils/Lottery.json' // abstract binary interface\n\nconst defaultProvider = ethers.getDefaultProvider(CHAIN_NAME)\n\nexport const lotteryContract = new ethers.Contract(\n  CONTRACT_ADDRESS,\n  abi.abi,\n  defaultProvider,\n)\n","import styled from 'styled-components'\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n`\n\nexport const Button = styled.button`\n  background: #e5b80b;\n  color: white;\n  padding: 0.5em;\n  font-size: 1em;\n  border: 1px solid white;\n  border-radius: 16px;\n  width: 75vw;\n`\n","import * as React from 'react'\nimport * as Styled from './Button.styled'\n\nexport function Button({ id, name, handleClick, disabled }) {\n  return (\n    <Styled.ButtonContainer id={id}>\n      {disabled ? (\n        <Styled.Button>{name}</Styled.Button>\n      ) : (\n        <Styled.Button onClick={handleClick}>{name}</Styled.Button>\n      )}\n    </Styled.ButtonContainer>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Container.styled'\n\nexport function Container({ children }) {\n  return <Styled.Container>{children}</Styled.Container>\n}\n","import * as React from 'react'\nimport { useContractData } from '@/context/ContractContext'\nimport { useWalletContext } from '@/context/WalletContext'\nimport { Button } from '@/components/Button'\nimport { Container } from '@/components/Container'\nimport { CHAIN_ID, CHAIN_NAME } from '@/constants'\nimport toast from 'react-hot-toast'\n\nexport const BuyButton = () => {\n  const { buyTicket, isProcessingTx } = useContractData()\n  const { wallet } = useWalletContext()\n  const { network } = wallet\n\n  const toastId = React.useRef(null)\n\n  React.useEffect(() => {\n    if (isProcessingTx) {\n      toastId.current = toast.loading('Comprando ticket')\n    } else {\n      toast.remove(toastId.current)\n    }\n  }, [isProcessingTx])\n\n  if (network.chainId !== CHAIN_ID) {\n    console.log('ChainId selected', network.chainId)\n    toast(\n      'Por favor, cambia tu red a' + network.chain + 'para poder continuar.',\n    )\n    return <p>Por favor, cambia tu red a {CHAIN_NAME} para poder continuar.</p>\n  }\n\n  return (\n    <Container>\n      <Button\n        id=\"button-container\"\n        name=\"Comprar Ticket\"\n        handleClick={buyTicket}\n        disabled={isProcessingTx}\n      />\n    </Container>\n  )\n}\n","import * as React from 'react'\n\nimport { Button } from '@/components/Button'\nimport { Container } from '@/components/Container'\nimport { useWalletContext } from '@/context/WalletContext'\n\nexport const ConnectButton = () => {\n  const { connect, wallet } = useWalletContext()\n  const { network } = wallet\n\n  console.log('Red seleccionada: ', network?.chainId)\n\n  return (\n    <Container>\n      <Button\n        id=\"connect-wallet-button-container\"\n        name=\"Conectar Billetera\"\n        handleClick={connect}\n      />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const InfoContainer = styled.div`\n  height: 25vh;\n  display: flex;\n  flex-wrap: wrap;\n  color: white;\n  background-color: #131313;\n  border-radius: 16px;\n`\n","import { ethers } from 'ethers'\n\nexport const {\n  formatEther,\n  parseEther,\n  formatUnits,\n  etherSymbol,\n  parseUnits,\n  commify,\n} = ethers.utils\n","import styled from 'styled-components'\n\nexport const Estado = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Estado.styled'\nimport { Container } from '../Container'\n\nexport function Estado({ estado }) {\n  return (\n    <Container>\n      <Styled.Estado>Estado: {estado ? 'Cerrado' : 'Abierto'}</Styled.Estado>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Fat = styled.h4`\n  text-align: center;\n  margin-right: 0.25em;\n`\n","import * as React from 'react'\n\nexport const Ether = props => {\n  const { width = '100%', height = '100%' } = props\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlSpace=\"preserve\"\n      shapeRendering=\"geometricPrecision\"\n      textRendering=\"geometricPrecision\"\n      imageRendering=\"optimizeQuality\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      viewBox=\"0 0 784.37 1277.39\"\n      width={width}\n      height={height}\n      {...props}\n    >\n      <g fillRule=\"nonzero\">\n        <path\n          fill=\"#343434\"\n          d=\"m392.07 0-8.57 29.11v844.63l8.57 8.55 392.06-231.75z\"\n        />\n        <path fill=\"#8C8C8C\" d=\"M392.07 0 0 650.54l392.07 231.75V472.33z\" />\n        <path\n          fill=\"#3C3C3B\"\n          d=\"m392.07 956.52-4.83 5.89v300.87l4.83 14.1 392.3-552.49z\"\n        />\n        <path fill=\"#8C8C8C\" d=\"M392.07 1277.38V956.52L0 724.89z\" />\n        <path fill=\"#141414\" d=\"m392.07 882.29 392.06-231.75-392.06-178.21z\" />\n        <path fill=\"#393939\" d=\"m0 650.54 392.07 231.75V472.33z\" />\n      </g>\n    </svg>\n  )\n}\n\nexport default Ether\n","import * as React from 'react'\nimport * as Styled from './Fat.styled'\nimport { Container } from '../Container'\nimport { Ether } from '../Icons/Ether'\n\nexport function Fat({ fat }) {\n  return (\n    <Container>\n      <Styled.Fat>Pozo: {fat}</Styled.Fat>\n      <Ether width=\"8\" />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const CantidadJugadores = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\n\nimport * as Styled from './CantidadJugadores.styled'\nimport { Container } from '../Container'\n\nexport function CantidadJugadores({ jugadores }) {\n  return (\n    <Container>\n      <Styled.CantidadJugadores>\n        Cantidad Jugadores: {jugadores}\n      </Styled.CantidadJugadores>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const JugadoresRequeridos = styled.h4`\n  text-align: center;\n`\n","import * as React from 'react'\nimport * as Styled from './JugadoresRequeridos.styled'\nimport { Container } from '../Container'\n\nexport function JugadoresRequeridos({ jugadoresRequeridos }) {\n  return (\n    <Container>\n      <Styled.JugadoresRequeridos>\n        Jugadores Requeridos: {jugadoresRequeridos}\n      </Styled.JugadoresRequeridos>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const JugadoresContenedor = styled.div`\n  width: 66vw;\n  white-space: nowrap;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nexport const Jugadores = styled.h4`\n  display: inline-block;\n  &:not(:first-child) {\n    margin-left: 1em;\n  }\n`\n","import * as React from 'react'\nimport * as Styled from './Jugadores.styled'\nimport { useContractData } from '@/context/ContractContext'\nimport { Container } from '@/components/Container'\n\nexport const Jugadores = () => {\n  const { players } = useContractData()\n\n  if (players.length === 0) return null\n\n  return (\n    <Container>\n      <Styled.JugadoresContenedor>\n        {players.length > 0\n          ? players.map((add, idx) => (\n              <Styled.Jugadores key={`${add.toString()}-${idx}`}>\n                {add}\n              </Styled.Jugadores>\n            ))\n          : 'Sin jugadores...'}\n      </Styled.JugadoresContenedor>\n    </Container>\n  )\n}\n","import * as React from 'react'\nimport * as Styled from './InfoContainer.styled'\nimport { formatEther } from '@/utils'\nimport { Container } from '@/components/Container'\nimport { Estado } from '@/components/Estado'\nimport { Fat } from '@/components/Fat'\nimport { CantidadJugadores } from '@/components/CantidadJugadores'\nimport { JugadoresRequeridos } from '@/components/JugadoresRequeridos'\nimport { useContractData } from '@/context/ContractContext'\nimport { Jugadores } from '@/widgets/Jugadores'\n\nexport function InfoContainer() {\n  const { prize, status, numOfPlayers, playersRequired } = useContractData()\n\n  return (\n    <Container>\n      <Styled.InfoContainer>\n        <Fat fat={formatEther(prize)} />\n        <Estado estado={status} />\n        <CantidadJugadores jugadores={numOfPlayers} />\n        <Jugadores />\n        <JugadoresRequeridos jugadoresRequeridos={playersRequired} />\n      </Styled.InfoContainer>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Title = styled.h1`\n  font-size: 3.5em;\n  text-align: center;\n`\n","import * as React from 'react'\nimport * as Styled from './Title.styled'\nimport { Container } from '@/components/Container'\n\nexport function Title({ title }) {\n  return (\n    <Container>\n      <Styled.Title>{title}</Styled.Title>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Quote = styled.h4`\n  text-align: center;\n  font-style: italic;\n  border: 1px solid black;\n  border-radius: 16px;\n  padding: 0.5em;\n`\n","//1) Soy de un país\n// vertiginoso donde la lotería es parte principal de la realidad: hasta el día de hoy, he\n// pensado tan poco en ella como en la conducta de los dioses indescifrables o de mi\n// corazón.\n\n// 2) Una jugada\n// feliz podía motivar su elevación al concilio de magos o la prisión de un enemigo\n// (notorio o íntimo) o el encontrar, en la pacífica tiniebla del cuarto, la mujer que\n// empieza a inquietarnos o que no esperábamos rever; una jugada adversa: la\n// mutilación, la variada infamia, la muerte.\n\n// 3) En la realidad el número de sorteos es infinito. Ninguna\n// decisión es final, todas se ramifican en otras. Los ignorantes suponen que infinitos\n// sorteos requieren un tiempo infinito; en realidad basta que el tiempo sea\n// infinitamente subdivisible, como lo enseña la famosa parábola del Certamen con la\n// Tortuga. Esa infinitud condice de admirable manera con los sinuosos números del\n// Azar y con el Arquetipo Celestial de la Lotería, que adoran los platónicos...\n\nimport * as React from 'react'\nimport * as Styled from './Quote.styled'\nimport { Container } from '@/components/Container'\n\nexport function Quote() {\n  return (\n    <Container>\n      <Styled.Quote>\n        {`'En la realidad el número de sorteos es infinito. Ninguna decisión es\n        final, todas se ramifican en otras.' J.L.B.\"`}\n      </Styled.Quote>\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const PriceContainer = styled.div`\n  display: flex;\n`\n\nexport const Price = styled.h2`\n  font-size: 30px;\n  text-align: center;\n  margin-right: 0.25em;\n`\n","import * as React from 'react'\nimport ReactAnime from 'react-animejs'\nimport Ether from './Ether'\n\nexport function AnimatedEther({ width }) {\n  const { Anime } = ReactAnime\n\n  const targets = '#animated-ether-svg'\n\n  return (\n    <Anime\n      initial={[\n        {\n          targets,\n          rotate: 360,\n          duration: 3200,\n          loop: true,\n          elasticity: 600,\n          easing: 'easeOutElastic',\n          delay: 80,\n        },\n      ]}\n    >\n      <Ether width={width} id=\"animated-ether-svg\" />\n    </Anime>\n  )\n}\n","import * as React from 'react'\nimport { formatEther } from '@/utils'\nimport * as Styled from './Price.styled'\nimport { useContractData } from '@/context/ContractContext'\nimport { Container } from '@/components/Container'\nimport { AnimatedEther } from '@/components/Icons/AnimatedEther'\n\nexport function Price() {\n  const { price } = useContractData()\n\n  return (\n    <Container>\n      <Styled.PriceContainer>\n        <Styled.Price>{formatEther(price) + ' + Gas'}</Styled.Price>\n      </Styled.PriceContainer>\n      <AnimatedEther width=\"20\" />\n    </Container>\n  )\n}\n","import styled from 'styled-components'\n\nexport const Link = styled.a`\n  text-decoration: none;\n  color: #131313;\n  font-size: 0.75em;\n`\n","import * as React from 'react'\nimport * as Styled from './Footer.styled.js'\nimport { Container } from '@/components/Container'\nimport { CHAIN_NAME, CONTRACT_ADDRESS } from '@/constants'\n\nexport const Footer = () => {\n  return (\n    <Container>\n      <Styled.Link\n        href={`https://${CHAIN_NAME}.etherscan.io/address/${CONTRACT_ADDRESS}#code`}\n        target=\"blank\"\n      >\n        Ver Contrato\n      </Styled.Link>\n    </Container>\n  )\n}\n","export default __webpack_public_path__ + \"4053d09b265d73c0dbfba279bcb4c1c9.png\";","import * as React from 'react'\n\nimport { Container } from '@/components/Container'\nimport goblet from '@/assets/images/goblet.png'\n\nexport const Goblet = () => {\n  return (\n    <Container>\n      <img src={goblet} alt=\"goblet\" height=\"100px\" />\n    </Container>\n  )\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { useWalletContext } from '@/context/WalletContext'\nimport { useLotteryEvents } from '@/hooks/useLotteryEvents'\nimport { BuyButton } from '@/widgets/BuyButton'\nimport { ConnectButton } from '@/widgets/ConnectButton'\nimport { InfoContainer } from '@/widgets/InfoContainer'\nimport { Title } from '@/widgets/Title'\nimport { Quote } from '@/widgets/Quote'\nimport { Price } from '@/components/Price'\nimport { Footer } from '@/widgets/Footer'\nimport { Goblet } from '@/widgets/Goblet'\nimport { Toaster } from 'react-hot-toast'\n\nconst MainContainer = styled.section`\n  height: 100vh;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 0 3em;\n`\n\nexport function Main() {\n  const { wallet } = useWalletContext()\n\n  const { account } = wallet\n\n  useLotteryEvents()\n\n  return (\n    <MainContainer>\n      <Goblet />\n      <Title title=\"Lotería de Babilonia\" />\n      <Quote />\n      <Price />\n      {account ? <BuyButton /> : <ConnectButton />}\n      <Toaster position=\"bottom-center\" duration=\"2000\" />\n      <InfoContainer />\n      <Footer />\n    </MainContainer>\n  )\n}\n","import React from 'react'\nimport { lotteryContract } from '@/services/lottery'\nimport { useContractData } from '@/context/ContractContext'\n\nexport function useLotteryEvents() {\n  const { refreshContractData } = useContractData()\n\n  const handleEvent = React.useCallback(\n    (data, address) => {\n      refreshContractData()\n    },\n    [refreshContractData],\n  )\n\n  React.useEffect(() => {\n    if (lotteryContract) {\n      lotteryContract.on('BuyTicket', (data, address) =>\n        handleEvent(data, address),\n      )\n    }\n\n    return () => lotteryContract.off('BuyTicket')\n  }, [handleEvent])\n}\n","import { CONTRACT_ADDRESS } from '@/constants'\nimport { createClient, useQuery } from 'urql'\n\nconst BASE_URL = 'https://api.studio.thegraph.com/query/37382/lottery/0.0.2'\n\nexport const client = createClient({\n  url: BASE_URL,\n})\n\nconst lotteryStateQuery = `\nquery {\n  lotteryStores(orderBy: id, orderDirection: desc, first: 1) {\n    id\n    event\n    status\n    price\n    status\n    prize\n    winner\n    playersRequired\n    players\n  }\n}\n`\n\nexport function useLotteryGraphql() {\n  const [result, reexecuteQuery] = useQuery({\n    query: lotteryStateQuery,\n  })\n\n  const { data, fetching, error } = result\n\n  const [lotteryData] = data?.lotteryStores || []\n\n  if (lotteryData) {\n    const decoratedLotteryData = {\n      prize: lotteryData?.prize || 0,\n      price: lotteryData?.price || 0,\n      status: lotteryData.status,\n      numOfPlayers: lotteryData.players.length,\n      players: lotteryData.players,\n      playersRequired: lotteryData.playersRequired,\n      lastWinner: lotteryData.winner,\n      address: CONTRACT_ADDRESS,\n    }\n\n    return { data: decoratedLotteryData, fetching, error, reexecuteQuery }\n  }\n\n  return { fetching, error, reexecuteQuery }\n}\n","import styled from 'styled-components'\n\nexport const Spinner = styled.svg`\n  animation: rotate 1s linear infinite;\n\n  & .path {\n    stroke: #5652bf;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n`\n\nexport const SpinnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n`\n","import * as React from 'react'\n\nimport * as Styled from './Spinner.styled'\n\nexport const Spinner = () => (\n  <Styled.SpinnerContainer>\n    <Styled.Spinner width={50} height={50}>\n      <circle\n        className=\"path\"\n        cx=\"25\"\n        cy=\"25\"\n        r=\"20\"\n        fill=\"none\"\n        strokeWidth=\"2\"\n      />\n    </Styled.Spinner>\n  </Styled.SpinnerContainer>\n)\n","import React from 'react'\nimport { ethers } from 'ethers'\nimport {\n  LOTTERY_INITIAL_STATE,\n  CHAIN_ID,\n  CHAIN_NAME,\n  CONTRACT_ADDRESS,\n} from '@/constants'\nimport abi from '@/utils/Lottery.json'\nimport toast from 'react-hot-toast'\nimport { useWalletconnect } from '@/hooks/useWalletConnect'\nimport { useLotteryGraphql } from './useLotteryStateGraphql'\n\nexport const useContract = () => {\n  const [lotteryData, setLotteryData] = React.useState(LOTTERY_INITIAL_STATE)\n\n  const { wallet } = useWalletconnect()\n\n  const { library, network, setWallet } = wallet\n\n  const { data = {}, fetching, reexecuteQuery } = useLotteryGraphql() || {}\n\n  const getStaticInfo = () => {\n    setLotteryData(state => ({\n      ...state,\n      ...data,\n      isLoading: false,\n    }))\n  }\n\n  const refreshContractData = () => {\n    console.log('REFRESHING')\n    reexecuteQuery({ requestPolicy: 'network-only' })\n    console.log('FINISHED REFRESHING')\n  }\n\n  const setIsProcessingTx = () =>\n    setLotteryData(state => ({\n      ...state,\n      isProcessingTx: !state.isProcessingTx,\n    }))\n\n  const buyTicket = async () => {\n    if (network.chainId !== CHAIN_ID) {\n      setWallet(s => ({\n        ...s,\n        error: {\n          message: `Incorrect chain selected. Please change network to: ${CHAIN_NAME}`,\n        },\n      }))\n      toast.error(\n        `Incorrect chain selected. Please change network to: ${CHAIN_NAME}`,\n      )\n      return\n    }\n\n    if (!library) {\n      return\n    }\n\n    try {\n      const signer = library.getSigner()\n\n      const lotteryContractSigned = new ethers.Contract(\n        CONTRACT_ADDRESS,\n        abi.abi,\n        signer,\n      )\n\n      const price = await lotteryContractSigned.getTicketPrice()\n\n      // TODO: Add whitelist support\n      if (!price) {\n        return\n      }\n\n      const buyTicketTxn = await lotteryContractSigned.buyTicket({\n        value: price,\n        gasLimit: 300000,\n      })\n\n      console.log('Mining...', buyTicketTxn.hash)\n      setIsProcessingTx()\n\n      await buyTicketTxn.wait()\n\n      console.log('Mined -- ', buyTicketTxn.hash)\n      toast.success('Gracias por su compra!')\n      setIsProcessingTx()\n    } catch (e) {\n      if (data.isProcessingTx) {\n        setIsProcessingTx()\n      }\n      console.error(e)\n      toast.error('No se pudo procesar la transacción')\n    }\n  }\n\n  React.useEffect(() => {\n    if (!fetching) {\n      getStaticInfo()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetching])\n\n  return {\n    lotteryData,\n    buyTicket,\n    refreshContractData,\n    setIsProcessingTx,\n  }\n}\n","import * as React from 'react'\nimport { Spinner } from '@/components/Spinner'\nimport { useContract } from '@/hooks/useLotteryContract'\n\nconst ContractContext = React.createContext({})\n\nfunction ContractProvider({ children }) {\n  const { lotteryData, buyTicket, refreshContractData, setIsProcessingTx } =\n    useContract()\n\n  const { isLoading } = lotteryData\n\n  if (isLoading) return <Spinner />\n\n  return (\n    <ContractContext.Provider\n      value={{\n        ...lotteryData,\n        buyTicket,\n        refreshContractData,\n        setIsProcessingTx,\n      }}\n    >\n      {children}\n    </ContractContext.Provider>\n  )\n}\n\nfunction useContractData() {\n  const context = React.useContext(ContractContext)\n\n  if (context === undefined) {\n    throw new Error('useContractData must be used within a ContractProvider')\n  }\n\n  return context\n}\n\nexport { ContractProvider, useContractData }\n","import * as React from 'react'\nimport Web3Modal from 'web3modal'\nimport WalletConnect from '@walletconnect/web3-provider'\nimport { providers } from 'ethers'\nimport CoinbaseWalletSDK from '@coinbase/wallet-sdk'\nimport { WALLET_INITIAL_STATE, CHAIN_NAME } from '@/constants'\n\nconst providerOptions = {\n  walletlink: {\n    package: CoinbaseWalletSDK, // Required\n    options: {\n      appName: 'Loteria de Babilonia', // Required\n      infuraId: '855d00a8b6bb42e4a2b9ca9df69d0516', // Required unless you provide a JSON RPC url; see `rpc` below\n    },\n  },\n  walletconnect: {\n    package: WalletConnect, // required\n    options: {\n      infuraId: '855d00a8b6bb42e4a2b9ca9df69d0516', // required\n    },\n  },\n}\n\nconst web3Modal = new Web3Modal({\n  providerOptions,\n  cacheProvider: true, // very important\n  network: CHAIN_NAME,\n  theme: 'dark',\n})\n\nexport const useWalletconnect = () => {\n  const [wallet, setWallet] = React.useState(WALLET_INITIAL_STATE)\n\n  const { provider, error } = wallet\n\n  const connect = async () => {\n    try {\n      const provider = await web3Modal.connect()\n      const library = new providers.Web3Provider(provider)\n      const accounts = await library.listAccounts()\n      const network = await library.getNetwork()\n\n      console.log('NETWORK:', network)\n\n      setWallet(s => ({ ...s, provider, library, network }))\n\n      if (accounts) {\n        setWallet(s => ({ ...s, account: accounts[0] }))\n      }\n    } catch (error) {\n      setWallet(s => ({ ...s, error }))\n    }\n  }\n\n  const refreshState = () => {\n    setWallet(WALLET_INITIAL_STATE)\n  }\n\n  const disconnect = async () => {\n    await web3Modal.clearCachedProvider()\n    refreshState()\n  }\n\n  React.useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      connect()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  React.useEffect(() => {\n    if (provider?.on) {\n      const handleAccountsChanged = accounts => {\n        console.log('accountsChanged', accounts)\n        if (accounts) {\n          setWallet(s => ({ ...s, account: accounts[0] }))\n        }\n      }\n\n      // TODO: Since chainId is not part of state check I better update network object instead\n      const handleChainChanged = _hexChainId => {\n        console.log('chainChanged', _hexChainId.toNumber())\n        setWallet(s => ({ ...s, network: _hexChainId.toNumber() }))\n      }\n\n      const handleDisconnect = () => {\n        console.log('disconnect', error)\n        disconnect()\n      }\n\n      provider.on('accountsChanged', handleAccountsChanged)\n      provider.on('chainChanged', handleChainChanged)\n      provider.on('disconnect', handleDisconnect)\n\n      return () => {\n        if (provider.removeListener) {\n          provider.removeListener('accountsChanged', handleAccountsChanged)\n          provider.removeListener('chainChanged', handleChainChanged)\n          provider.removeListener('disconnect', handleDisconnect)\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [provider])\n\n  return { wallet, setWallet, connect, disconnect }\n}\n","import * as React from 'react'\nimport { createGlobalStyle } from 'styled-components'\nimport { BrowserClient, Hub } from '@sentry/react'\nimport { BrowserTracing } from '@sentry/tracing'\nimport { ContractProvider } from '@/context/ContractContext'\nimport { WalletProvider } from '@/context/WalletContext'\nimport { Main } from './Main'\nimport { client } from '@/hooks/useLotteryStateGraphql'\nimport { Provider } from 'urql'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto Mono', monospace;\n  }\n`\n\n// TODO: Create HOC for WalletProvider and ContractProvider maybe?\nfunction App() {\n  React.useEffect(() => {\n    const client = new BrowserClient({\n      dsn: process.env.SENTRY_DSN,\n      environment: 'develop',\n      integrations: [new BrowserTracing()],\n      tracesSampleRate: 1,\n      sampleRate: 1,\n    })\n\n    const customHub = new Hub(client)\n\n    return customHub\n  }, [])\n\n  return (\n    <>\n      <GlobalStyle />\n      <WalletProvider>\n        <Provider value={client}>\n          <ContractProvider>\n            <Main />\n          </ContractProvider>\n        </Provider>\n      </WalletProvider>\n    </>\n  )\n}\n\nexport default App\n","import * as React from 'react'\nimport { useWalletconnect } from '@/hooks/useWalletConnect'\n\nconst WalletContext = React.createContext()\n\nfunction WalletProvider({ children }) {\n  const { wallet, setWallet, connect, disconnect } = useWalletconnect()\n\n  return (\n    <WalletContext.Provider value={{ wallet, setWallet, connect, disconnect }}>\n      {children}\n    </WalletContext.Provider>\n  )\n}\n\nfunction useWalletContext() {\n  const context = React.useContext(WalletContext)\n\n  if (context === undefined) {\n    throw new Error('useWalletContext must be used within a WalletProvider')\n  }\n\n  return context\n}\n\nexport { useWalletContext, WalletProvider }\n","export const LOTTERY_INITIAL_STATE = {\n  isLoading: true,\n  prize: 0,\n  price: 0,\n  status: 0,\n  numOfPlayers: 0,\n  players: [],\n  playersRequired: 0,\n  lastWinner: '',\n  address: '',\n  isProcessingTx: false,\n}\n\nexport const WALLET_INITIAL_STATE = {\n  provider: null,\n  library: null,\n  account: null,\n  signature: '',\n  error: '',\n  network: null,\n  message: '',\n  signedMessage: '',\n  verified: null,\n}\n\nexport const CONTRACT_ADDRESS = '0x4658d96C84DA37e9a62fBEe52aeC75432c664067'\n\nexport const CHAIN_NAME = 'goerli'\n\nexport const CHAIN_ID = 5\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from '@/widgets/app'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// TODO: Agregar errorBoundary\n"],"sourceRoot":""}